<!doctype html>
<html lang="en">
<head>
    <title>Dashboard Page 1</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../static/css_style_home.css">
    <link rel="stylesheet" href="../static/css_style_dash.css">
    <link rel="stylesheet" href="../static/css_style_model.css">
    <link rel="stylesheet" href="../static/css_style_login.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<div class="bg-img">
    <nav class="navbar navbar-expand-lg navbar-dark shadow-5-strong" style="height: 56px; width: 100%; background-color: none;">
        <div class="container-fluid" style="height: 100%; width: 100%;">
          <div class="navbar-header">
            <a class="navbar-brand" href="#" style="color: white;">☁ MY PROJECT</a>                                  
          </div>
          <ul class="nav navbar-nav">
            <li class="active"><a href="home" class="glyphicon glyphicon-home" style="color: white;"> HOME</a></li>
            <li><a href="dashboard" class="fa fa-tv" style="color: white;"> DASHBOARD</a></li>
            <li><a href="model" class="fa fa-cubes" onclick="toggleModelNav()" style="color: white;"> MODEL</a></li>
          </ul>
          {% if session.get('username') %}
          <li class="nav-item dropdown" style="display: flex; position: absolute; top: 20%; left: 90%;">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <!-- รูปโปรไฟล์ -->
               <img src= "data:image/jpeg;base64,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" alt="User Profile" class="profile-img">
            </a>
            <!-- แสดงชื่อเมื่อ hover -->
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown" style="text-align: center; background-color: #1b1c1e;">
              <a class="dropdown-item" style="font-size: 16px; transition:font-size 0.3s ease; color: aliceblue;" href="#">{{ session['username'] }}</a>
            </div>
          </li>
          {% endif %}
          <a href="logout" class="btn btn-danger logout-btn">Logout</a>
          
          <!-- User Count Display -->
          <div class="navbar-text" style="color: white; position: absolute; top: 15%; right: 10%;">
            <span id="userCount">Users Online: 0</span>
          </div>
        </div>
    </nav>
    
    <!-- Content block -->
    {% block content %}
    {% endblock %}
</div>

<!-- JavaScript to fetch and display user count -->
<script>
    function fetchUserCount() {
        fetch('/rq-test/user_count')
        .then(response => response.json())
        .then(data => {
            document.getElementById('userCount').textContent = 'Users Online: ' + data.count;
        })
        .catch(error => console.error('Error fetching user count:', error));
    }

    // Set interval to fetch user count every 10 seconds
    setInterval(fetchUserCount, 10000);
    
    // Initial fetch on page load
    fetchUserCount();
</script>

</body>
</html>